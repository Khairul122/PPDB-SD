<!doctype html>
<html lang="en">
<head>
    <title>SDN 14 V Koto Timur</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=DM+Sans:300,400,700|Indie+Flower" rel="stylesheet">
    <link rel="icon" href="../../assets/img/avatar/icone.png">
    <link rel="stylesheet" href="../../assets/style/fonts/icomoon/style.css">
    <link rel="stylesheet" href="../../assets/style/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../assets/style/css/jquery.fancybox.min.css">
    <link rel="stylesheet" href="../../assets/style/css/owl.carousel.min.css">
    <link rel="stylesheet" href="../../assets/style/css/owl.theme.default.min.css">
    <link rel="stylesheet" href="../../assets/style/fonts/flaticon/font/flaticon.css">
    <link rel="stylesheet" href="../../assets/style/css/aos.css">
    <link rel="stylesheet" href="../../assets/style/css/style.css">
</head>

<body data-spy="scroll" data-target=".site-navbar-target" data-offset="300">
    <div class="site-wrap" id="home-section">

        <div class="site-mobile-menu site-navbar-target">
            <div class="site-mobile-menu-header">
                <div class="site-mobile-menu-close mt-3">
                    <span class="icon-close2 js-menu-toggle"></span>
                </div>
            </div>
            <div class="site-mobile-menu-body"></div>
        </div>
        <header class="site-navbar site-navbar-target" role="banner">

            <div class="container mb-3">
                <div class="d-flex align-items-center">
                    <div class="site-logo mr-auto">
                        <a href="index.html" style="font-size: 35px;">SDN 14 V Koto Timur</a>
                    </div>
                    <div class="site-quick-contact d-none d-lg-flex ml-auto ">
                        <div class="d-flex site-info align-items-center mr-5">
                            <span class="block-icon mr-3"><span class="icon-map-marker text-yellow"></span></span>
                            <span>Gn. Padang Alai, Kec. V Koto Tim. <br>Kabupaten Padang Pariaman, Sumatera Barat</span>
                        </div>
                        <div class="d-flex site-info align-items-center">
                            <span class="block-icon mr-3"><span class="icon-clock-o"></span></span>
                            <span>Senin - Sabtu 7:00 - 16:00 <br> Minggu Tutup</span>
                        </div>

                    </div>
                </div>
            </div>


            <div class="container">
                <div class="menu-wrap d-flex align-items-center">
                    <!-- <span class="d-inline-block d-lg-none"><a href="#" class="text-black site-menu-toggle js-menu-toggle py-5"><span class="icon-menu h3 text-black"></span></a></span> -->
                    <nav class="site-navigation text-left mr-auto d-lg-block" role="navigation">
                        <ul class="site-menu main-menu js-clone-nav mr-auto ">
                            <li class="active"><a href="" class="">Home</a></li>
                        </ul>
                    </nav>
                    <div class="top-social ml-auto">
                        <a href="login.php"><span class="text-success">Login Peserta</span></a>
                        <a href="daftarSiswa.php"><span class="text-teal">Daftar Peserta</span></a> |
                        <a href="../login"><span class="text-yellow">Login Guru</span></a>
                    </div>
                </div>
            </div>
        </header>
        <div class="ftco-blocks-cover-1">
            <!-- data-stellar-background-ratio="0.5" style="background-image: url('../../assets/style/images/hero_1.jpg')" -->
            <div class="site-section-cover overlay" data-stellar-background-ratio="0.5" style="background-image: url('../../assets/style/images/hero_1.jpg')">
                <div class="container">
                    <div class="row align-items-center ">

                        <div class="col-md-5 mt-5 pt-5">
                            <span class="text-cursive h5 text-red">Selamat datang di website kami.</span>
                            <h1 class="mb-3 font-weight-bold text-teal">Penerimaan Peserta Didik Baru</h1>
                            <p style="font-size: 40px;">SDN 14 V Koto Timur</p>
                            <p class="mt-5"><a href="daftarSiswa.php" class="btn btn-primary py-4 btn-custom-1">Daftar Sekarang</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="site-section">
            <div class="container">
                <div class="row mb-5">
                    <div class="col-12 text-center">
                        <span class="text-cursive h5 text-red d-block">Our Gallery</span>
                        <h2 class="text-black">Gallery Of The Kids</h2>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 mb-4">
                        <a href="../../assets/style/images/img_1.jpg" data-fancybox="gal"><img src="../../assets/style/images/img_1.jpg" alt="Image" class="img-fluid"></a>
                    </div>
                    <div class="col-md-3 mb-4">
                        <a href="../../assets/style/images/img_2.jpg" data-fancybox="gal"><img src="../../assets/style/images/img_2.jpg" alt="Image" class="img-fluid"></a>
                    </div>
                    <div class="col-md-3 mb-4">
                        <a href="../../assets/style/images/img_3.jpg" data-fancybox="gal"><img src="../../assets/style/images/img_3.jpg" alt="Image" class="img-fluid"></a>
                    </div>
                    <div class="col-md-3 mb-4">
                        <a href="../../assets/style/images/img_4.jpg" data-fancybox="gal"><img src="../../assets/style/images/img_4.jpg" alt="Image" class="img-fluid"></a>
                    </div>

                    <div class="col-md-3 mb-4">
                        <a href="../../assets/style/images/img_5.jpg" data-fancybox="gal"><img src="../../assets/style/images/img_5.jpg" alt="Image" class="img-fluid"></a>
                    </div>
                    <div class="col-md-3 mb-4">
                        <a href="../../assets/style/images/img_2.jpg" data-fancybox="gal"><img src="../../assets/style/images/img_3.jpg" alt="Image" class="img-fluid"></a>
                    </div>
                    <div class="col-md-3 mb-4">
                        <a href="../../assets/style/images/img_2.jpg" data-fancybox="gal"><img src="../../assets/style/images/img_2.jpg" alt="Image" class="img-fluid"></a>
                    </div>
                    <div class="col-md-3 mb-4">
                        <a href="../../assets/style/images/img_1.jpg" data-fancybox="gal"><img src="../../assets/style/images/img_1.jpg" alt="Image" class="img-fluid"></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="news-section bg-light py-5">
    <div class="container">
        <!-- Bagian Header -->
        <div class="row mb-4">
            <div class="col-12 text-center">
                <h1 class="display-4 text-dark fw-bold mb-3">Berita Terkini</h1>
                <div class="separator mx-auto"></div>
            </div>
        </div>

        <!-- Grid Berita -->
        <div class="row g-4">
            <?php
            include '../../config/connection.php';
            
            // Implementasi Paginasi
            $items_per_page = 6;
            $page = isset($_GET['page']) ? $_GET['page'] : 1;
            $start_from = ($page - 1) * $items_per_page;
            
            // Hitung total data untuk paginasi
            $total_records = mysqli_query($conn, "SELECT COUNT(*) as count FROM berita");
            $total_records = mysqli_fetch_assoc($total_records)['count'];
            $total_pages = ceil($total_records / $items_per_page);
            
            // Ambil data berita dengan paginasi
            $query = "SELECT * FROM berita ORDER BY tanggal DESC LIMIT $start_from, $items_per_page";
            $data = mysqli_query($conn, $query) or die(mysqli_error($conn));
            
            while ($row = mysqli_fetch_assoc($data)) {
                // Format tanggal
                $date = new DateTime($row['tanggal']);
                $formatted_date = $date->format('d F Y');
            ?>
                <div class="col-lg-6">
                    <div class="card news-card h-100 shadow-sm">
                        <?php if (isset($row['gambar_berita']) && !empty($row['gambar_berita'])) { ?>
                            <img src="<?= htmlspecialchars($row['gambar_berita']); ?>" class="card-img-top" alt="Gambar Berita">
                        <?php } ?>
                        
                        <div class="card-body">
                            <div class="news-meta mb-2">
                                <span class="date text-muted">
                                    <i class="fas fa-calendar-alt me-2"></i><?= $formatted_date; ?>
                                </span>
                            </div>
                            <h5 class="card-title fw-bold mb-3"><?= htmlspecialchars($row['judul_berita']); ?></h5>
                            <div class="card-text content-expandable">
                                <?= nl2br(htmlspecialchars($row['isi_berita'])); ?>
                            </div>
                            <button class="btn btn-link text-primary p-0 mt-2 toggle-content">
                                Baca selengkapnya
                            </button>
                        </div>
                    </div>
                </div>
            <?php } ?>
        </div>

        <!-- Paginasi -->
        <?php if ($total_pages > 1) { ?>
            <div class="row mt-5">
                <div class="col-12">
                    <nav aria-label="Page navigation">
                        <ul class="pagination justify-content-center">
                            <?php if ($page > 1) { ?>
                                <li class="page-item">
                                    <a class="page-link" href="?page=<?= ($page - 1); ?>" aria-label="Previous">
                                        <span aria-hidden="true">&laquo;</span>
                                    </a>
                                </li>
                            <?php } ?>
                            
                            <?php for ($i = 1; i <= $total_pages; $i++) { ?>
                                <li class="page-item <?= ($page == $i) ? 'active' : ''; ?>">
                                    <a class="page-link" href="?page=<?= $i; ?>"><?= $i; ?></a>
                                </li>
                            <?php } ?>
                            
                            <?php if ($page < $total_pages) { ?>
                                <li class="page-item">
                                    <a class="page-link" href="?page=<?= ($page + 1); ?>" aria-label="Next">
                                        <span aria-hidden="true">&raquo;</span>
                                    </a>
                                </li>
                            <?php } ?>
                        </ul>
                    </nav>
                </div>
            </div>
        <?php } ?>
    </div>
</div>

<!-- CSS yang Diperlukan -->
<style>
.news-section {
    background-color: #f8f9fa;
}

.separator {
    width: 50px;
    height: 3px;
    background-color: #007bff;
    margin-bottom: 30px;
}

.news-card {
    transition: transform 0.2s ease;
    border: none;
    border-radius: 12px;
    overflow: hidden;
}

.news-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 15px rgba(0,0,0,0.1) !important;
}

.news-card .card-img-top {
    height: 240px;
    object-fit: cover;
}

.news-meta {
    font-size: 0.9rem;
}

.news-card .card-title {
    color: #2c3e50;
    font-size: 1.4rem;
    line-height: 1.4;
}

.news-card .card-text {
    color: #4a4a4a;
    line-height: 1.7;
    font-size: 1rem;
}

.content-expandable {
    max-height: 150px;
    overflow: hidden;
    transition: max-height 0.3s ease;
}

.content-expandable.expanded {
    max-height: none;
}

.toggle-content {
    text-decoration: none;
    font-weight: 500;
}

.pagination .page-link {
    color: #007bff;
    border: none;
    padding: 12px 18px;
    margin: 0 4px;
    border-radius: 6px;
    font-weight: 500;
}

.pagination .page-item.active .page-link {
    background-color: #007bff;
    color: white;
}

.pagination .page-link:hover {
    background-color: #e9ecef;
}

@media (max-width: 768px) {
    .news-card .card-img-top {
        height: 200px;
    }
    
    .news-card .card-title {
        font-size: 1.2rem;
    }
}
</style>

<!-- JavaScript untuk Expand/Collapse -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const toggleButtons = document.querySelectorAll('.toggle-content');
    
    toggleButtons.forEach(button => {
        button.addEventListener('click', function() {
            const content = this.previousElementSibling;
            content.classList.toggle('expanded');
            this.textContent = content.classList.contains('expanded') ? 
                'Tampilkan lebih sedikit' : 'Baca selengkapnya';
        });
    });
});
</script>
    </div>
</body>
</div>
</div>
</div>
<div class="site-section py-5 bg-warning">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-12 d-flex">
                <h2 class="text-white m-0">Pendaftaran Peserta Didik Baru</h2>
                <a href="daftarSiswa.php" class="btn btn-primary btn-custom-1 py-3 px-5 ml-auto">Daftar!</a>
            </div>
        </div>
    </div>
</div>
<footer class="site-footer" style="padding: 20px 0 5px 0">
</footer>
</div>
<script src="../../assets/style/js/jquery-3.3.1.min.js"></script>
<script src="../../assets/style/js/popper.min.js"></script>
<script src="../../assets/style/js/bootstrap.min.js"></script>
<script src="../../assets/style/js/owl.carousel.min.js"></script>
<script src="../../assets/style/js/jquery.fancybox.min.js"></script>
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
<script src="https://pingendo.com/assets/bootstrap/bootstrap-4.0.0-alpha.6.min.js"></script>
</body>

</html>